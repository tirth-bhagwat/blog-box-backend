transaction {
    prepare(acct: AuthAccount) {
        let signer = acct
        // get the list of existing contracts
        var existingContracts = signer.contracts.names
        let BlogManager = "696d706f72742046756e6769626c65546f6b656e2066726f6d203078656538323835366266323065326161360d0a696d706f727420466c6f77546f6b656e2066726f6d203078306165353363623665336634326137390d0a0d0a70756220636f6e747261637420426c6f674d616e61676572207b0d0a0d0a20202020707562206c657420426c6f6753746f7261676550617468203a2053746f72616765506174680d0a20202020707562206c657420426c6f675075626c696350617468203a205075626c6963506174680d0a20202020707562206c657420466c6f77546f6b656e5661756c74506174683a205075626c6963506174680d0a2020202070756220766172206964436f756e743a55496e7433320d0a2020202061636365737328636f6e7472616374292076617220737562736372697074696f6e436f73743a205546697836340d0a0d0a20202020707562207265736f7572636520426c6f67207b0d0a2020202020202020707562206c65742069643a2055496e7433320d0a2020202020202020707562206c6574207469746c653a20537472696e670d0a2020202020202020707562206c6574206465736372697074696f6e3a20537472696e670d0a202020202020202061636365737328636f6e747261637429206c657420626f64793a20537472696e670d0a2020202020202020707562206c657420617574686f723a20537472696e670d0a2020202020202020707562206c657420747970653a20537472696e670d0a0d0a2020202020202020696e69742869643a55496e7433322c207469746c653a20537472696e672c206465736372697074696f6e3a20537472696e672c20626f64793a20537472696e672c20617574686f723a20537472696e672c20747970653a20537472696e6729207b0d0a20202020202020202020202073656c662e6964203d2069640d0a20202020202020202020202073656c662e7469746c65203d207469746c650d0a20202020202020202020202073656c662e6465736372697074696f6e203d206465736372697074696f6e0d0a20202020202020202020202073656c662e626f6479203d20626f64790d0a20202020202020202020202073656c662e617574686f72203d20617574686f720d0a20202020202020202020202073656c662e74797065203d20747970650d0a20202020202020207d0d0a0d0a20202020202020207075622066756e206765744461746128293a207b537472696e673a537472696e677d207b0d0a20202020202020202020202072657475726e207b0d0a20202020202020202020202020202020226964223a2073656c662e69642e746f537472696e6728292c0d0a20202020202020202020202020202020227469746c65223a2073656c662e7469746c652c0d0a20202020202020202020202020202020226465736372697074696f6e223a2073656c662e6465736372697074696f6e2c0d0a2020202020202020202020202020202022626f6479223a2073656c662e626f64792c0d0a2020202020202020202020202020202022617574686f72223a2073656c662e617574686f720d0a2020202020202020202020207d0d0a20202020202020207d0d0a202020207d0d0a0d0a20202020707562207265736f7572636520426c6f67436f6c6c656374696f6e207b0d0a2020202020202020707562206c6574206f776e6564426c6f67733a20407b55496e7433323a20426c6f677d0d0a2020202020202020707562207661722073756273637269626572733a207b416464726573733a20426f6f6c7d0d0a0d0a2020202020202020696e69742829207b0d0a20202020202020202020202073656c662e6f776e6564426c6f6773203c2d207b7d0d0a20202020202020202020202073656c662e7375627363726962657273203d207b7d0d0a20202020202020207d0d0a0d0a20202020202020207075622066756e2061646428626c6f673a40426c6f672c69643a55496e743332297b0d0a20202020202020202020202073656c662e6f776e6564426c6f67735b69645d3c2d21626c6f673b0d0a20202020202020207d0d0a0d0a20202020202020207075622066756e20676574426c6f672869643a55496e743332293a7b537472696e673a537472696e677d7b0d0a2020202020202020202020206c657420626c6f67203c2d2073656c662e6f776e6564426c6f67732e72656d6f7665286b65793a206964290d0a0d0a2020202020202020202020206c65742064617461203d20626c6f673f2e6765744461746128290d0a0d0a20202020202020202020202073656c662e6f776e6564426c6f67735b69645d3c2d21626c6f673b0d0a0d0a20202020202020202020202072657475726e2064617461210d0a0d0a20202020202020207d0d0a0d0a20202020202020207075622066756e206765744b65797328293a5b55496e7433325d7b0d0a20202020202020202020202072657475726e2073656c662e6f776e6564426c6f67732e6b6579733b0d0a20202020202020207d0d0a0d0a20202020202020207075622066756e20676574537562736372696265727328293a7b416464726573733a20426f6f6c7d7b0d0a20202020202020202020202072657475726e2073656c662e73756273637269626572733b0d0a20202020202020207d0d0a0d0a202020202020202061636365737328636f6e7472616374292066756e206164645375627363726962657228616464726573733a2041646472657373297b0d0a20202020202020202020202073656c662e73756273637269626572735b616464726573735d203d20747275650d0a20202020202020207d0d0a0d0a202020202020202061636365737328636f6e7472616374292066756e2072656d6f76655375627363726962657228616464726573733a2041646472657373297b0d0a20202020202020202020202073656c662e73756273637269626572732e72656d6f7665286b65793a2061646472657373290d0a20202020202020207d0d0a0d0a202020202020202064657374726f79202829207b0d0a20202020202020202020202064657374726f792073656c662e6f776e6564426c6f67730d0a20202020202020207d0d0a0d0a202020207d0d0a0d0a202020207075622066756e20637265617465456d707479436f6c6c656374696f6e28293a2040426c6f67436f6c6c656374696f6e7b0d0a202020202020202072657475726e203c2d2063726561746520426c6f67436f6c6c656374696f6e28290d0a202020207d0d0a0d0a2020202061636365737328636f6e7472616374292066756e206164645375627363726962657228616464726573733a2041646472657373297b0d0a20202020202020202f2f2067657420746865207075626c6963206361706162696c6974790d0a20202020202020206c6574207075626c69634361706162696c697479203d2073656c662e6163636f756e742e6765744361706162696c6974793c26426c6f67436f6c6c656374696f6e3e2873656c662e426c6f675075626c69635061746829212e626f72726f772829203f3f2070616e69632822436f756c64206e6f7420626f72726f77206361706162696c69747922293b0d0a0d0a20202020202020202f2f20626f72726f772074686520636f6c6c656374696f6e0d0a20202020202020207075626c69634361706162696c6974792e6164645375627363726962657228616464726573733a2061646472657373290d0a202020207d0d0a0d0a2020202061636365737328636f6e7472616374292066756e2072656d6f76655375627363726962657228616464726573733a2041646472657373297b0d0a20202020202020202f2f2067657420746865207075626c6963206361706162696c6974790d0a20202020202020206c6574207075626c69634361706162696c697479203d2073656c662e6163636f756e742e6765744361706162696c6974793c26426c6f67436f6c6c656374696f6e3e2873656c662e426c6f675075626c69635061746829212e626f72726f772829203f3f2070616e69632822436f756c64206e6f7420626f72726f77206361706162696c69747922293b0d0a0d0a20202020202020202f2f20626f72726f772074686520636f6c6c656374696f6e0d0a20202020202020207075626c69634361706162696c6974792e72656d6f76655375627363726962657228616464726573733a2061646472657373290d0a202020207d0d0a0d0a202020207075622066756e20637265617465426c6f672869643a55496e7433322c207469746c653a20537472696e672c206465736372697074696f6e3a20537472696e672c20626f64793a20537472696e672c20617574686f723a20537472696e672c20747970653a20537472696e67297b0d0a202020202020202073656c662e6964436f756e74203d2073656c662e6964436f756e74202b20310d0a20202020202020206c6574206e6577426c6f673a2040426c6f674d616e616765722e426c6f67203c2d2063726561746520426c6f672869643a73656c662e6964436f756e742c7469746c653a7469746c652c6465736372697074696f6e3a6465736372697074696f6e2c626f64793a626f64792c617574686f723a617574686f722c747970653a74797065293b0d0a0d0a20202020202020206c657420636f6c6c656374696f6e3a2026426c6f674d616e616765722e426c6f67436f6c6c656374696f6e3f203d2073656c662e6163636f756e742e626f72726f773c26426c6f67436f6c6c656374696f6e3e2866726f6d3a2073656c662e426c6f6753746f7261676550617468293b0d0a20202020202020200d0a2020202020202020636f6c6c656374696f6e212e61646428626c6f673a3c2d6e6577426c6f672c69643a73656c662e6964436f756e74293b0d0a202020207d0d0a0d0a202020207075622066756e20676574426c6f672869643a55496e743332293a7b537472696e673a537472696e677d7b0d0a0d0a20202020202020206c657420636f6c6c656374696f6e203d2073656c662e6163636f756e742e626f72726f773c26426c6f67436f6c6c656374696f6e3e2866726f6d3a2073656c662e426c6f6753746f7261676550617468293b0d0a202020202020202072657475726e20636f6c6c656374696f6e212e676574426c6f672869643a6964293b0d0a0d0a202020207d0d0a0d0a202020207075622066756e2073756273637269626528616464726573733a20416464726573732c207661756c743a204046756e6769626c65546f6b656e2e5661756c74293a20426f6f6c207b0d0a20202020202020206966207661756c742e62616c616e636520213d2073656c662e737562736372697074696f6e436f7374207b0d0a20202020202020202020202070616e69632822496e636f727265637420616d6f756e742073656e7422290d0a20202020202020207d0d0a0d0a20202020202020202f2f206966206164647265737320697320616c726561647920737562736372696265640d0a202020202020202069662073656c662e69735375627363726962656428616464726573733a206164647265737329207b0d0a20202020202020202020202070616e69632822416c7265616479207375627363726962656422290d0a20202020202020207d0d0a0d0a20202020202020206c6574206465706f7369744361706162696c697479203d2073656c662e6163636f756e742e6765744361706162696c6974793c267b46756e6769626c65546f6b656e2e52656365697665727d3e2873656c662e466c6f77546f6b656e5661756c745061746829212e626f72726f772829203f3f2070616e69632822436f756c64206e6f7420626f72726f77206361706162696c69747922290d0a0d0a20202020202020206465706f7369744361706162696c6974792e6465706f7369742866726f6d3a203c2d207661756c74290d0a0d0a202020202020202073656c662e6164645375627363726962657228616464726573733a2061646472657373290d0a0d0a202020202020202072657475726e20747275650d0a202020207d0d0a0d0a202020202f2f20544f444f3a20496d70726f7665207365637572697479206f6620746869732066756e6374696f6e206f722072656d6f7665206974206c617465720d0a202020202f2f2043726561746564206e6f77206a75737420666f722074657374696e670d0a202020207075622066756e20756e73756273637269626528616464726573733a2041646472657373293a20426f6f6c207b0d0a20202020202020206966202173656c662e69735375627363726962656428616464726573733a206164647265737329207b0d0a20202020202020202020202070616e696328224e6f74207375627363726962656422290d0a20202020202020207d0d0a0d0a202020202020202073656c662e72656d6f76655375627363726962657228616464726573733a2061646472657373290d0a0d0a202020202020202072657475726e20747275650d0a202020207d0d0a0d0a202020207075622066756e20676574537562736372696265727328293a7b416464726573733a20426f6f6c7d7b0d0a20202020202020206c657420636f6c6c656374696f6e203d2073656c662e6163636f756e742e626f72726f773c26426c6f67436f6c6c656374696f6e3e2866726f6d3a2073656c662e426c6f6753746f7261676550617468293b0d0a202020202020202072657475726e20636f6c6c656374696f6e212e676574537562736372696265727328293b0d0a202020207d0d0a0d0a202020207075622066756e2069735375627363726962656428616464726573733a2041646472657373293a20426f6f6c7b0d0a20202020202020206c657420636f6c6c656374696f6e203d2073656c662e6163636f756e742e626f72726f773c26426c6f67436f6c6c656374696f6e3e2866726f6d3a2073656c662e426c6f6753746f726167655061746829203f3f2070616e69632822436f756c64206e6f7420626f72726f77206361706162696c69747922293b0d0a202020202020202072657475726e20636f6c6c656374696f6e2e676574537562736372696265727328295b616464726573735d203f3f2066616c73650d0a202020207d0d0a0d0a20202020696e69742829207b0d0a202020202020202073656c662e426c6f6753746f7261676550617468203d202f73746f726167652f426c6f67436f6c6c656374696f6e0d0a202020202020202073656c662e426c6f675075626c696350617468203d202f7075626c69632f426c6f67436f6c6c656374696f6e0d0a202020202020202073656c662e466c6f77546f6b656e5661756c7450617468203d202f7075626c69632f666c6f77546f6b656e52656365697665720d0a0d0a202020202020202073656c662e6964436f756e74203d20300d0a202020202020202073656c662e737562736372697074696f6e436f7374203d2032322e300d0a0d0a202020202020202073656c662e6163636f756e742e73617665283c2d73656c662e637265617465456d707479436f6c6c656374696f6e28292c20746f3a2073656c662e426c6f6753746f7261676550617468290d0a202020202020202073656c662e6163636f756e742e6c696e6b3c26426c6f67436f6c6c656374696f6e3e2873656c662e426c6f675075626c6963506174682c20746172676574203a73656c662e426c6f6753746f7261676550617468290d0a0d0a097d0d0a7d".decodeHex()
        // Check if the contract name already exists
        if (existingContracts.contains("BlogManager")) {
            // If it does, throw an error
            panic("Contract with name BlogManager already exists")
        }

        // deduct 1 flow token as the fee for creating a new contract
        let vaultRef = signer.borrow<&FlowToken.Vault>(from: /storage/flowTokenVault)
			?? panic("Could not borrow reference to the owner's Vault!")

        // Create a new contract with the name BlogManagerA
        // TODO: Add the code for the BlogManager contract from somewhere

        signer.contracts.add(name: "BlogManager", code: BlogManager)
    }
}